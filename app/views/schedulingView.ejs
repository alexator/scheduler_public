<!DOCTYPE html>

<html>
	<head>
		<% include ../views/partials/head %>
	</head>

	<body>
		<% if (user) { %>
			<% include ../views/partials/nav_bar %>
			<div class="container-fluid">
				<div class="user_timezone" id="<%=user.timezone%>"  style="display:none"></div>
				<div class="form-group">
					<div class="row">
						<div class="col-md-1">
							<h3>Scheduling</h3>
						</div>
					</div>
				</div>
				<div class="panel panel-primary">
				    <div class="panel-heading">
				        <h3 class="panel-title">Students' Requests</h3>
				    </div>
				    <div class="panel-body">
				        <div class="form-group">
							<div class="row" id="filters">
								<div class="col-md-2 col-md-offset-5">
									<label for="date">Date</label>
									<select class="form-control" id="date">
										<option value="0">-- Please select a day --</option>
										<option value="January 16, 2015">Friday, January 16th</option>
										<option value="January 17, 2015">Saturday, January 17th</option>
										<option value="January 18, 2015">Sunday, January 18th</option>
										<option value="January 19, 2015">Monday, January 19th</option>
										<option value="January 20, 2015">Tuesday, January 20th</option>
										<option value="January 21, 2015">Wednesday, January 21st</option>
										<option value="January 22, 2015">Thursday, January 22nd</option>
									</select>
								</div>
								<div class="col-md-2">
									<label for="schoolMenu">School</label>
									<select class="form-control" id="schoolMenu">
										<option value="0">All Schools</option>
										<% schools.forEach(function(school, index) { %>
											<option value="<%=school._id%>"><%=school.name%></option>
										<% }) %>
									</select>
								</div>
								<div class="col-md-2">
									<label for="subjectMenu">Subject</label>
									<select class="form-control" id="subjectMenu">
										<option value="0">-- Please select a subject --</option>
									</select>
								</div>
								<div class="col-md-1">
									<a class="btn btn-flat btn-success" id="refresh"><span aria-hidden="true" class="mdi-action-done"></span> Apply</a>
								</div>
							</div>
						</div>
						<br>
						<br>
						<div class="form-group">
							<div class="row" id="schedule_table">
								<div class="col-md-12">
									<table class="table table-striped">
									    <thead>
									        <tr>
									            <th>#</th>
									            <th></th>
									            <th>Student Name</th>
									            <th>School</th>
									            <th>Teacher</th>
									            <th>Tutor</th>
									            <th>Session</th>
									            <th>Test Date</th>
									            <th>Hours Requested</th>
									            <th>Availability</th>
									            <!-- <th>Comments</th> -->
									        </tr>
									    </thead>
									    <tbody>
									        <tr id="row-1">
									            <td id="element-1-0" class="row_num">1</td>
									            <td id="element-1-1">Column content</td>
									            <td id="element-1-2">Column content</td>
									            <td id="element-1-3">Column content</td>
									            <td id="element-1-4">Column content</td>
									            <td id="element-1-5">Column content</td>
									            <td id="element-1-6">Column content</td>
									            <td id="element-1-7">Column content</td>
									            <td id="element-1-8">Column content</td>
									            <td id="element-1-9">Column content</td>
									            <td id="edit-row-1"><a id="edit-1" class="btn btn-flat btn-warning row_button edit"><span aria-hidden="true" class="mdi-editor-mode-edit"> Edit</a></td>
									            <td id="select-row-1" class="centralise"><div class="checkbox select_row"><label><input id="checkbox-row-1" type="checkbox"></label></div></td>
									        </tr>
									        <tr id="row-2">
									            <td id="element-2-0" class="row_num">2</td>
									            <td id="element-2-1">Column content</td>
									            <td id="element-2-2">Column content</td>
									            <td id="element-2-3">Column content</td>
									            <td id="element-2-4">Column content</td>
									            <td id="element-2-5">Column content</td>
									            <td id="element-2-6">Column content</td>
									            <td id="element-2-7">Column content</td>
									            <td id="element-2-8">Column content</td>
									            <td id="element-2-9">Column content</td>
									            <td id="edit-row-2"><a id="edit-2" class="btn btn-flat btn-warning row_button edit"><span aria-hidden="true" class="mdi-editor-mode-edit"> Edit</a></td>
									            <td id="select-row-2" class="centralise"><div class="checkbox select_row"><label><input id="checkbox-row-2" type="checkbox"></label></div></td>
									        </tr>
									        <tr id="row-3">
									            <td id="element-3-0" class="row_num">3</td>
									            <td id="element-3-1">Column content</td>
									            <td id="element-3-2">Column content</td>
									            <td id="element-3-3">Column content</td>
									            <td id="element-3-4">Column content</td>
									            <td id="element-3-5">Column content</td>
									            <td id="element-3-6">Column content</td>
									            <td id="element-3-7">Column content</td>
									            <td id="element-3-8">Column content</td>
									            <td id="element-3-9">Column content</td>
									            <td id="edit-row-3"><a id="edit-3" class="btn btn-flat btn-warning row_button edit"><span aria-hidden="true" class="mdi-editor-mode-edit"> Edit</a></td>
									            <td id="select-row-3" class="centralise"><div class="checkbox select_row"><label><input id="checkbox-row-3" type="checkbox"></label></div></td>
									        </tr>
									        <tr id="row-4">
									            <td id="element-4-0" class="row_num">4</td>
									            <td id="element-4-1">Column content</td>
									            <td id="element-4-2">Column content</td>
									            <td id="element-4-3">Column content</td>
									            <td id="element-4-4">Column content</td>
									            <td id="element-4-5">Column content</td>
									            <td id="element-4-6">Column content</td>
									            <td id="element-4-7">Column content</td>
									            <td id="element-4-8">Column content</td>
									            <td id="element-4-9">Column content</td>
									            <td id="edit-row-4"><a id="edit-4" class="btn btn-flat btn-warning row_button edit"><span aria-hidden="true" class="mdi-editor-mode-edit"> Edit</a></td>
									            <td id="select-row-4" class="centralise"><div class="checkbox select_row"><label><input id="checkbox-row-4" type="checkbox"></label></div></td>
									        </tr>
									    </tbody>
									</table>
								</div>
							</div>
						</div>
						<a href="javascript:void(0)" class="btn btn-success row_button" data-toggle="modal" data-target="#myModal"><span aria-hidden="true" class="mdi-action-done-all"> Assign</a>
				    </div>
				</div>
				<!-- Modal -->
				<div class="modal fade" id="myModal" tabindex="-1" role="dialog" aria-labelledby="myModalLabel" aria-hidden="true">
					<div class="modal-dialog">
						<div class="modal-content">
							<div class="modal-header" id="assign_header">
								<button type="button" class="close" data-dismiss="modal" aria-label="Close"><span aria-hidden="true">&times;</span></button>
								<h4 class="modal-title" id="myModalLabel">Assign Students</h4>
							</div>
							<div class="modal-header no_display" id="confirm_header">
								<h4 class="modal-title" id="myModalLabel">Students Assignment</h4>
							</div>
							<div class="modal-body" id="assign_body">
								<div id="assignment_section">
									<div id="assign">
										<div class="form-group">
											<div class="row">
												<div class="col-md-12">
					        						<h4 id="day"></h4>
					        					</div>
					        				</div>
					        			</div>
					        			<div class="form-group">
											<div class="row">
												<div class="col-md-2">
					        						<h4>Students</h4>
					        					</div>
					        				</div>
					        				<div id="checked_students">
					        				</div>
					        			</div>
					        			<div class="form-group">
											<div class="row">
												<div class="col-md-2">
					        						<h4>Tutor</h4>
					        					</div>
					        				</div>
											<div class="row">
												<div class="col-md-6">
													<select class="form-control" id="tutorMenu">
														<option value="0">Please select a tutor</option>
														<% tutors.forEach(function(tutor, index) { %>
															<option value="<%=tutor._id%>"><%=tutor.firstName%></option>
														<% }) %>
													</select>
												</div>
											</div>
					        			</div>
					        			<div class="form-group">
											<div class="row">
												<div class="col-md-12">
					        						<h4>Scheduled Time</h4>
					        					</div>
					        				</div>
					        				<div class="row" id="assign-time">
					        				</div>
					        			</div>
									</div>
								</div>
							</div>
							<div class="modal-body no_display" id="confirm_body">
								<p>Your assignment was successful!</p>
							</div>
							<div class="modal-footer" id="assign_footer">
								<button type="button" class="btn btn-default" data-dismiss="modal">Close</button>
								<button type="button" class="btn btn-primary" id="assign-button"><span aria-hidden="true" class="mdi-action-done-all"> Assign</button>
							</div>
							<div class="modal-footer no_display" id="confirm_footer">
								<button type="button" class="btn btn-primary" id="confirm-button" data-dismiss="modal">OK</button>
							</div>
						</div>
					</div>
				</div>
				<!-- Modal end -->
			</div>
		<% } else { %>
			<div class="container-fluid">
				<h1>Oops... only registered users could use this feature</h1>
				<h2>Please choose one of the below options</h2>
				<div class="row">
					<div class="col-md-6 rightify">
						<a href="/signup" class="btn btn-primary btn-lg">Sign Up</a>
					</div>
					<div class="col-md-6 leftify">
						<a href="/signin" class="btn btn-primary btn-lg">Sign In</a>
					</div>
				</div>
			</div>
		<% } %>
		<footer class="footer">
			<div class="list-group-separator"></div>
			<% include ../views/partials/footer %>
		</footer>
		<% include ../views/partials/loadSchedulingScripts %>
	</body>
</html>